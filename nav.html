<!DOCTYPE html>
<html>
<head>
    <title>Navigation menu</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div class="sidebarbtn">
            <a class="sidebarbox" href="index.html" target="_parent">
                <img class="logo" src="placeholderLogo.png" alt="placeholder logo">
            </a>
        </div>
        <div id="genrebtn" class="sidebarbtn">
            <a class="sidebarbox" href="#">
                <h3 class="sidebartext">Genres</h3>
            </a>
        </div>
        <div class="sidebarlist hidden">
            <ul>
                <li id="liststart">
                    <details open>
                        <summary>Games</summary>
                        <ul>
                            <li>
                                <details>

                                    <summary>Strategy</summary>
                                    <ul class="finallist">
                                        <li>Crusader Kings 3</li>
                                        <li>Civilization 6</li>
                                    </ul>
                                </details>
                                <details>

                                    <summary>RPG</summary>
                                    <ul class="finallist">
                                        <li>Elden Ring</li>
                                        <li>Kingdom Come</li>
                                    </ul>
                                </details>
                                <details>

                                    <summary>Roguelike</summary>
                                    <ul class="finallist">
                                        
                                        <li>Binding of Isaac</li>
                                        <li>Slay the Spire</li>
                                    </ul>
                                </details>
                            </li>
                        </ul>
                    </details>
                </li>
            </ul>
        </div>
        <div class="extendbtn">
            <a class="extend" href="#">Extend</a>
        </div>
        
    </div>
    <script>
        var sidebarExtended = false
        var extendbtn = document.getElementsByClassName("extendbtn")[0];
        var sidebar = document.getElementsByClassName("sidebar")[0];
        var logo = document.getElementsByClassName("logo")[0];
        var sidebarbox0 = document.getElementsByClassName("sidebarbox")[0];
        var sidebarbox1 = document.getElementsByClassName("sidebarbox")[1];
        var sidebarbtn0 = document.getElementsByClassName("sidebarbtn")[0];
        var genrebtn = document.getElementById("genrebtn");
        var extendText = document.getElementsByClassName("extend")[0];
        var sidebarlist = document.getElementsByClassName("sidebarlist")[0];

        var extendEvent = new CustomEvent("extendMain")
        var minimizeEvent = new CustomEvent("minimizeMain")

        extendbtn.addEventListener("click", extend);

        function extend() {
            if (sidebarExtended == false) {
                sidebar.classList.add("extended")
                logo.classList.add("extended")
                sidebarbox0.classList.add("extended")
                sidebarbox1.classList.add("extended")
                sidebarbtn0.classList.add("extended")
                genrebtn.classList.add("hidden")
                extendbtn.classList.add("extended")
                sidebarExtended = true
                extendText.innerHTML = "Minimize"
                window.parent.document.dispatchEvent(extendEvent)
                sidebarlist.classList.remove("hidden")

            }
            else if (sidebarExtended == true) {
                sidebar.classList.remove("extended")
                logo.classList.remove("extended")
                sidebarbox0.classList.remove("extended")
                sidebarbox1.classList.remove("extended")
                sidebarbtn0.classList.remove("extended")
                genrebtn.classList.remove("hidden")
                extendbtn.classList.remove("extended")
                sidebarExtended = false
                extendText.innerHTML = "Extend"
                window.parent.document.dispatchEvent(minimizeEvent)
                sidebarlist.classList.add("hidden")
            }
        }
    </script>
</body>

</html>