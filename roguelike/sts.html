<!DOCTYPE html>
<html>
<head>
    <title>Slay the Spire</title>
    <link href="../style.css" rel="stylesheet">

</head>
<body class="inter-font1">
    <nav id="sidebardiv">
        <iframe id="sidebarframe" src="../nav.html" height="100%"></iframe>
    </nav>
    <main>
        <div></div>
            <header>
                <h1>Slay the Spire</h1>
                <h3>Subtitle - Lorem Ipsum</h3>
            </header>
        <div class="gamediv">
            <div class="gameimgbox">
                <img class="gameimg z" src="https://cdn.cloudflare.steamstatic.com/steam/apps/646570/ss_c171816f7ecd35b5b46d2fa27532f4c5b8ca3cc5.jpg">
                <img class="gameimg" src="https://cdn.cloudflare.steamstatic.com/steam/apps/646570/ss_01aa3e7759e457bfbf2422f31c325d7b3ba8a6eb.jpg">
                <img class="gameimg" src="https://cdn.cloudflare.steamstatic.com/steam/apps/646570/ss_1299d7fe55771cf564848c5046fbef7936178440.jpg">
                <img class="gameimg" src="https://cdn.cloudflare.steamstatic.com/steam/apps/646570/ss_8af73365121b1b1e2d8004fca2cbffb9b9f6d7a5.jpg">
                <img class="gameimg" src="https://cdn.cloudflare.steamstatic.com/steam/apps/646570/ss_5b2b32f09da5a5bed99d5c5168b50fd681a4690c.jpg">
                <div class="imgcontrols">
                    <button class="leftbtn">&lt;</button>
                    <h4 class="imgcounter"></h3>
                    <button class="rightbtn">&gt;</button>
                </div>
            </div>
            <div class="boxtype2">
                <div class="maininfo">
                    <h2>Lorem Ipsum</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu odio euismod, tincidunt urna ultrices, viverra mi. Sed at eros est. Morbi tempor lacus non libero ultricies, at efficitur dui aliquet. Quisque vel nunc non quam malesuada interdum. Suspendisse sit amet rhoncus erat, id iaculis nisi. Sed in sem eget est finibus mattis non in tellus. Vestibulum et lacinia odio, in varius enim. In sed laoreet felis, sed rhoncus elit. Nullam elementum dui laoreet elit blandit, ut vulputate elit iaculis. Ut pulvinar leo ac diam suscipit, eu auctor augue aliquet. Curabitur fringilla blandit ultricies. Nulla id quam aliquet velit ornare. </p>
                </div>
            </div>
        </div>   
        
    </main>
    <div class="infobar">
        <h3 class="infobarheader">Slay the Spire</h3>
        <img class="coverimg" src="https://cdn.cloudflare.steamstatic.com/steam/apps/646570/library_600x900.jpg?t=1560552398">
        <div class="generalinfo">
            <ul>
                <li class="inforow"><b>Developer</b> :<br>Mega Crit</li>
                <li class="inforow"><b>Genre</b> :<br>Roguelike, Deck-builder</li>
                <li class="inforow"><b>Platforms</b> :<br>PC, Playstation 4, Nintendo Switch, Xbox One, iOS, Android</li>
                <li class="inforow"><b>Release date</b> :<br>January 23 2019</li>
                <li class="inforow"><b>Price</b> :<br>â‚¬22.99</li>
                <li class="inforow"><b>PEGI Rating</b> :<br><img class="pegiimg" src="https://rating.pegi.info/assets/images/games/age_threshold_icons/7.png"></li>
            </ul>
            <h3 class="infobarheader sub">Review Scores</h2>
            <ul class="line">
                <li class="inforow"><b>Metacritic Score</b> :<br>89 / 100</li>
                <li class="inforow"><b>Opencritic Score</b> :<br>89 / 100</li>
                <li class="inforow"><b>Steam Review Score</b> :<br>Overwhelmingly Positive (98% Positive)</li>
            </ul>
        </div>
    </div>
</body>
<script>
    var sidebarframe = document.getElementById("sidebarframe")
    var sidebardiv = document.getElementById("sidebardiv")
    var leftbtn = document.getElementsByClassName("leftbtn")[0]
    var rightbtn = document.getElementsByClassName("rightbtn")[0]
    var counter = 1
    var imgarray = document.getElementsByClassName("gameimg")
    var counterelement = document.getElementsByClassName("imgcounter")[0]
    
    window.document.addEventListener("extendMain", extendSidebar)
    window.document.addEventListener("minimizeMain", minimizeSidebar)
    rightbtn.addEventListener("click", nextimg)
    leftbtn.addEventListener("click", previmg)

    function extendSidebar() {
        sidebarframe.classList.add("extended")
        sidebardiv.classList.add("extended")
    }
    function minimizeSidebar() {
        sidebarframe.classList.remove("extended")
        sidebardiv.classList.remove("extended")
    }
    function nextimg() {
        if (counter < imgarray.length) {
            
            imgarray[counter-1].classList.remove("z")
            counter++
            imgarray[counter-1].classList.add("z")
            counterelement.innerHTML = "Image " + counter + " of " + imgarray.length

        }
        else {
            imgarray[counter-1].classList.remove("z")
            counter = 1
            imgarray[counter-1].classList.add("z")
            counterelement.innerHTML = "Image " + counter + " of " + imgarray.length
        }
        
    }
    function previmg() {
        if (counter > 1) {
            imgarray[counter-1].classList.remove("z")
            counter--
            imgarray[counter-1].classList.add("z")
            counterelement.innerHTML = "Image " + counter + " of " + imgarray.length
        }
        else {
            imgarray[counter-1].classList.remove("z")
            counter = imgarray.length
            imgarray[counter-1].classList.add("z")
            counterelement.innerHTML = "Image " + counter + " of " + imgarray.length
        }

    }
    counterelement.innerHTML = "Image " + counter + " of " + imgarray.length
</script>
</html>